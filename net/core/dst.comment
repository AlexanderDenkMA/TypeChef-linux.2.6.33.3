check. weired macro stuff in kmem.h
