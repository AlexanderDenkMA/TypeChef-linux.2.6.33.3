check. weird macro stuff as before in kmem.h
